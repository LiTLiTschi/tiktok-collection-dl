# tiktok-collection-dl config
# ─────────────────────────────────────────────────────────────────────────────
# The bat file is just a launcher — set everything here, not in the bat.
#
# Config locations (higher number = higher priority):
#   3.  ~/.config/tiktok_collection_dl_config.yaml
#   2.  ./.config/tiktok_collection_dl_config.yaml
#   1.  ./tiktok_collection_dl_config.yaml           (wins)
#
# IMPORTANT: always quote values containing % signs:
#   output_template: "%(playlist_index)s - %(title)s.%(ext)s"   <- correct
#   output_template:  %(playlist_index)s - %(title)s.%(ext)s    <- YAML ERROR
# ─────────────────────────────────────────────────────────────────────────────


# ── Audio ────────────────────────────────────────────────────────────────────

audio_format: mp3
audio_quality: "0"


# ── File naming ──────────────────────────────────────────────────────────────

# MUST be quoted because of the % signs.
# Variables: %(playlist_index)s  %(title)s  %(uploader)s  %(ext)s
output_template: "%(playlist_index)s - %(title)s.%(ext)s"


# ── Folder organisation ───────────────────────────────────────────────────────

use_collection_folder: false

# Controls how the collection subfolder is named.
# Only used when use_collection_folder is true.
#
# Supported fields:
#   %(playlist_title)s   — the collection name
#   %(uploader)s         — the creator's username
#
# Examples:
#   "%(playlist_title)s"                    ->  Dance Hits
#   "%(uploader)s - %(playlist_title)s"     ->  creator - Dance Hits
#   "@%(uploader)s %(playlist_title)s"      ->  @creator Dance Hits
#   "%(playlist_title)s [%(uploader)s]"     ->  Dance Hits [creator]
#
collection_folder_template: "%(playlist_title)s"

# [UGLY FIX] TikTok's yt-dlp extractor sometimes bakes the uploader name
# into playlist_title (e.g. "gohome.gi-My Collection" instead of "My Collection").
# Enable this to strip the uploader prefix automatically.
# Handles separators: - _ and spaces.
strip_uploader_from_collection_title: false


# ── Metadata ──────────────────────────────────────────────────────────────────

# Write the collection name into the Album ID3 tag of every downloaded track.
# Requires ffmpeg. --add-metadata is injected automatically when enabled.
embed_collection_as_album: false


# ── Filename fixes ────────────────────────────────────────────────────────────

# [UGLY FIX] yt-dlp percent-encodes illegal Windows filename characters by
# default (e.g. ? -> %3F). Enable this to replace them with _ instead.
windows_safe_filenames: false


# ── Download behaviour ───────────────────────────────────────────────────────

ignore_errors: true
no_overwrites: true


# ── Default output directory ─────────────────────────────────────────────────

# Examples:
#   default_output_dir: "H:/music/TikTok"
#   default_output_dir: null    <- uses cwd
default_output_dir: null


# ── Extra yt-dlp flags ───────────────────────────────────────────────────────

extra_yt_dlp_args: []
#   - "--embed-thumbnail"
#   - "--add-metadata"
